{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { executeQuery } from \"../DatabaseService\";\nexport var addBull = function () {\n  var _ref = _asyncToGenerator(function* (bull) {\n    var now = new Date().toISOString();\n    var result = yield executeQuery(\"INSERT INTO bulls (\\n      name, number, breed, notes, created_at, updated_at\\n    ) VALUES (?, ?, ?, ?, ?, ?)\", [bull.name, bull.number || null, bull.breed || null, bull.notes || null, now, now]);\n    return result.insertId;\n  });\n  return function addBull(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var updateBull = function () {\n  var _ref2 = _asyncToGenerator(function* (bull) {\n    if (!bull.id) throw new Error('Bull ID is required for update');\n    var now = new Date().toISOString();\n    yield executeQuery(\"UPDATE bulls SET\\n      name = ?,\\n      number = ?,\\n      breed = ?,\\n      notes = ?,\\n      updated_at = ?\\n    WHERE id = ?\", [bull.name, bull.number || null, bull.breed || null, bull.notes || null, now, bull.id]);\n  });\n  return function updateBull(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var deleteBull = function () {\n  var _ref3 = _asyncToGenerator(function* (id) {\n    yield executeQuery('DELETE FROM bulls WHERE id = ?', [id]);\n  });\n  return function deleteBull(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var getBullById = function () {\n  var _ref4 = _asyncToGenerator(function* (id) {\n    var result = yield executeQuery(\"SELECT \\n      id, name, number, breed, notes,\\n      created_at as createdAt, updated_at as updatedAt\\n    FROM bulls WHERE id = ?\", [id]);\n    if (result.rows.length === 0) {\n      return null;\n    }\n    return result.rows.item(0);\n  });\n  return function getBullById(_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var getAllBulls = function () {\n  var _ref5 = _asyncToGenerator(function* () {\n    var result = yield executeQuery(\"SELECT \\n      id, name, number, breed, notes,\\n      created_at as createdAt, updated_at as updatedAt\\n    FROM bulls\\n    ORDER BY name ASC\");\n    var bulls = [];\n    for (var i = 0; i < result.rows.length; i++) {\n      bulls.push(result.rows.item(i));\n    }\n    return bulls;\n  });\n  return function getAllBulls() {\n    return _ref5.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["executeQuery","addBull","_ref","_asyncToGenerator","bull","now","Date","toISOString","result","name","number","breed","notes","insertId","_x","apply","arguments","updateBull","_ref2","id","Error","_x2","deleteBull","_ref3","_x3","getBullById","_ref4","rows","length","item","_x4","getAllBulls","_ref5","bulls","i","push"],"sources":["C:/vet-assistant/src/database/repositories/BullRepository.ts"],"sourcesContent":["// src/database/repositories/BullRepository.ts\r\nimport { executeQuery } from '../DatabaseService';\r\nimport { Bull } from '../../types';\r\n\r\nexport const addBull = async (bull: Omit<Bull, 'id'>): Promise<number> => {\r\n  const now = new Date().toISOString();\r\n  const result = await executeQuery(\r\n    `INSERT INTO bulls (\r\n      name, number, breed, notes, created_at, updated_at\r\n    ) VALUES (?, ?, ?, ?, ?, ?)`,\r\n    [\r\n      bull.name,\r\n      bull.number || null,\r\n      bull.breed || null,\r\n      bull.notes || null,\r\n      now,\r\n      now\r\n    ]\r\n  );\r\n  \r\n  return result.insertId;\r\n};\r\n\r\nexport const updateBull = async (bull: Bull): Promise<void> => {\r\n  if (!bull.id) throw new Error('Bull ID is required for update');\r\n  \r\n  const now = new Date().toISOString();\r\n  await executeQuery(\r\n    `UPDATE bulls SET\r\n      name = ?,\r\n      number = ?,\r\n      breed = ?,\r\n      notes = ?,\r\n      updated_at = ?\r\n    WHERE id = ?`,\r\n    [\r\n      bull.name,\r\n      bull.number || null,\r\n      bull.breed || null,\r\n      bull.notes || null,\r\n      now,\r\n      bull.id\r\n    ]\r\n  );\r\n};\r\n\r\nexport const deleteBull = async (id: number): Promise<void> => {\r\n  await executeQuery('DELETE FROM bulls WHERE id = ?', [id]);\r\n};\r\n\r\nexport const getBullById = async (id: number): Promise<Bull | null> => {\r\n  const result = await executeQuery(\r\n    `SELECT \r\n      id, name, number, breed, notes,\r\n      created_at as createdAt, updated_at as updatedAt\r\n    FROM bulls WHERE id = ?`,\r\n    [id]\r\n  );\r\n  \r\n  if (result.rows.length === 0) {\r\n    return null;\r\n  }\r\n  \r\n  return result.rows.item(0) as Bull;\r\n};\r\n\r\nexport const getAllBulls = async (): Promise<Bull[]> => {\r\n  const result = await executeQuery(\r\n    `SELECT \r\n      id, name, number, breed, notes,\r\n      created_at as createdAt, updated_at as updatedAt\r\n    FROM bulls\r\n    ORDER BY name ASC`\r\n  );\r\n  \r\n  const bulls: Bull[] = [];\r\n  for (let i = 0; i < result.rows.length; i++) {\r\n    bulls.push(result.rows.item(i) as Bull);\r\n  }\r\n  \r\n  return bulls;\r\n};\r\n\r\n"],"mappings":";AACA,SAASA,YAAY;AAGrB,OAAO,IAAMC,OAAO;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,IAAsB,EAAsB;IACxE,IAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACpC,IAAMC,MAAM,SAASR,YAAY,mHAI/B,CACEI,IAAI,CAACK,IAAI,EACTL,IAAI,CAACM,MAAM,IAAI,IAAI,EACnBN,IAAI,CAACO,KAAK,IAAI,IAAI,EAClBP,IAAI,CAACQ,KAAK,IAAI,IAAI,EAClBP,GAAG,EACHA,GAAG,CAEP,CAAC;IAED,OAAOG,MAAM,CAACK,QAAQ;EACxB,CAAC;EAAA,gBAjBYZ,OAAOA,CAAAa,EAAA;IAAA,OAAAZ,IAAA,CAAAa,KAAA,OAAAC,SAAA;EAAA;AAAA,GAiBnB;AAED,OAAO,IAAMC,UAAU;EAAA,IAAAC,KAAA,GAAAf,iBAAA,CAAG,WAAOC,IAAU,EAAoB;IAC7D,IAAI,CAACA,IAAI,CAACe,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,gCAAgC,CAAC;IAE/D,IAAMf,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACpC,MAAMP,YAAY,qIAQhB,CACEI,IAAI,CAACK,IAAI,EACTL,IAAI,CAACM,MAAM,IAAI,IAAI,EACnBN,IAAI,CAACO,KAAK,IAAI,IAAI,EAClBP,IAAI,CAACQ,KAAK,IAAI,IAAI,EAClBP,GAAG,EACHD,IAAI,CAACe,EAAE,CAEX,CAAC;EACH,CAAC;EAAA,gBArBYF,UAAUA,CAAAI,GAAA;IAAA,OAAAH,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAqBtB;AAED,OAAO,IAAMM,UAAU;EAAA,IAAAC,KAAA,GAAApB,iBAAA,CAAG,WAAOgB,EAAU,EAAoB;IAC7D,MAAMnB,YAAY,CAAC,gCAAgC,EAAE,CAACmB,EAAE,CAAC,CAAC;EAC5D,CAAC;EAAA,gBAFYG,UAAUA,CAAAE,GAAA;IAAA,OAAAD,KAAA,CAAAR,KAAA,OAAAC,SAAA;EAAA;AAAA,GAEtB;AAED,OAAO,IAAMS,WAAW;EAAA,IAAAC,KAAA,GAAAvB,iBAAA,CAAG,WAAOgB,EAAU,EAA2B;IACrE,IAAMX,MAAM,SAASR,YAAY,wIAK/B,CAACmB,EAAE,CACL,CAAC;IAED,IAAIX,MAAM,CAACmB,IAAI,CAACC,MAAM,KAAK,CAAC,EAAE;MAC5B,OAAO,IAAI;IACb;IAEA,OAAOpB,MAAM,CAACmB,IAAI,CAACE,IAAI,CAAC,CAAC,CAAC;EAC5B,CAAC;EAAA,gBAdYJ,WAAWA,CAAAK,GAAA;IAAA,OAAAJ,KAAA,CAAAX,KAAA,OAAAC,SAAA;EAAA;AAAA,GAcvB;AAED,OAAO,IAAMe,WAAW;EAAA,IAAAC,KAAA,GAAA7B,iBAAA,CAAG,aAA6B;IACtD,IAAMK,MAAM,SAASR,YAAY,gJAMjC,CAAC;IAED,IAAMiC,KAAa,GAAG,EAAE;IACxB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1B,MAAM,CAACmB,IAAI,CAACC,MAAM,EAAEM,CAAC,EAAE,EAAE;MAC3CD,KAAK,CAACE,IAAI,CAAC3B,MAAM,CAACmB,IAAI,CAACE,IAAI,CAACK,CAAC,CAAS,CAAC;IACzC;IAEA,OAAOD,KAAK;EACd,CAAC;EAAA,gBAfYF,WAAWA,CAAA;IAAA,OAAAC,KAAA,CAAAjB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAevB","ignoreList":[]},"metadata":{},"sourceType":"module"}